<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; overflow: hidden;}
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="three.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );

			var video = document.createElement('video');
				video.src = "movie.mp4";
				video.load();
				video.play()

			var videocanvas = document.createElement('canvas');
			var videocanvasctx = videocanvas.getContext('2d');

			videocanvas.width = 640;
			videocanvas.height = 480;

			videocanvasctx.fillStyle = "#000000";
			videocanvasctx.fillRect(0,0,640,480);

			var texture = new THREE.VideoTexture(video);
			var material = new THREE.MeshBasicMaterial( { map: texture, overdraw: 0.5 } );
			var sphere = new THREE.SphereGeometry(2)
			var sphereMesh = new THREE.Mesh(sphere, material);

			//camera.position.z = 5;

			function animate() {
				requestAnimationFrame( animate );

				videocanvasctx.drawImage(video, 0, 0);

				texture.needsUpdate = true;

				renderer.render( scene, camera );
			}
			animate();

		</script>
	</body>
</html>
